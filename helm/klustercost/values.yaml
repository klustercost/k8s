# Default values for klustercost.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# --- Private container registry ---
imageRegistry:
  enabled: false
  server: ""
  username: ""
  password: ""

postgresql:
  enabled: true
  image: postgres:17
  name: klustercost
  username: klustercost
  password: klustercost
  port: 5432
  pvc:
    enabled: false
    size: 1Gi
    storageClass: "default"
  serviceType: ClusterIP

monitor:
  image: ghcr.io/klustercost/k8s/klustercost-monitor:latest
  resyncTime: 300
  workers: 3

price:
  image: ghcr.io/klustercost/k8s/klustercost-price:latest
  provider: "azure"

update:
  image: ghcr.io/klustercost/k8s/klustercost-update:latest

prometheus:
  prometheusServerAddress: "http://prometheus-server.monitoring.svc.cluster.local"

mcp:
  enabled: true
  imagePullPolicy: Always
  # Log level for MCP components. Valid values: DEBUG | INFO
  logLevel: "INFO"

  server:
    image: ghcr.io/klustercost/k8s/klustercost-mcp-server:latest
    replicas: 1
    port: 8000
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 512Mi

  client:
    image: ghcr.io/klustercost/k8s/klustercost-mcp-client:latest
    resources:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 200m
        memory: 256Mi

  openai:
    apiKey: ""
    model: "gpt-4o-mini"

  postgresql:
    schema: "klustercost"